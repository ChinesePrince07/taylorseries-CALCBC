const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LazyKatex-E-dpOgLA.js","assets/katex-lib-D9-EpZ7o.js","assets/react-vendor-D7XbCeBQ.js","assets/recharts-D3PR0wq0.js","assets/math-lib-BAEOvVFQ.js","assets/LazyKatex-CIur2ABi.css"])))=>i.map(i=>d[i]);
import{r as e,b as t}from"./react-vendor-D7XbCeBQ.js";import{r as a,R as n,L as r,C as s,X as o,Y as i,T as l,a as c}from"./recharts-D3PR0wq0.js";import{p as u,d,e as m}from"./math-lib-BAEOvVFQ.js";import"./katex-lib-D9-EpZ7o.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var h,x,f={exports:{}},p={};var j,v=(x||(x=1,f.exports=function(){if(h)return p;h=1;var t=e(),a=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,n){var i,l={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)r.call(t,i)&&!o.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===l[i]&&(l[i]=t[i]);return{$$typeof:a,type:e,key:c,ref:u,props:l,_owner:s.current}}return p.Fragment=n,p.jsx=i,p.jsxs=i,p}()),f.exports),y={};var g=function(){if(j)return y;j=1;var e=t();return y.createRoot=e.createRoot,y.hydrateRoot=e.hydrateRoot,y}();const b={},k=(e,t)=>{let a=null;return(...n)=>{a&&clearTimeout(a),a=setTimeout((()=>e(...n)),t)}},N={},S=e=>{if(e<=1)return 1;if(N[e])return N[e];const t=e*S(e-1);return N[e]=t,t},M={sin:{},cos:{},exp:{},ln:{}},w=({selectedFunction:e,centerPoint:t,numTerms:h})=>{const[x,f]=a.useState(2),[p,j]=a.useState([]),y=a.useCallback(((e,t,a)=>{var n,r;if(void 0!==(null==(r=null==(n=M[e])?void 0:n[t])?void 0:r[a]))return M[e][t][a];if(0===a)return g(e,t);try{const n=u(e),r=d(n,"x");let s;if(1===a){s=r.compile().evaluate({x:t})}else s=y(r.toString(),t,a-1);return M[e]||(M[e]={}),M[e][t]||(M[e][t]={}),M[e][t][a]=s,s}catch(s){return 0}}),[]),g=a.useCallback(((e,t)=>{try{return m(e,{x:t})}catch(a){return 0}}),[]),b=a.useCallback((e=>{switch(e){case"sin":default:return"sin(x)";case"cos":return"cos(x)";case"exp":return"exp(x)";case"ln":return"log(x)"}}),[]),N=a.useCallback(((e,t,a,n)=>{let r=0;const s=b(e),o=Math.min(n,20);try{for(let n=0;n<=o;n++){let o;if(n>10)if("sin"===e){const e=n%4;let r;r=0===e?Math.sin(a):1===e?Math.cos(a):2===e?-Math.sin(a):-Math.cos(a),o=r/S(n)*Math.pow(t-a,n)}else if("cos"===e){const e=n%4;let r;r=0===e?Math.cos(a):1===e?-Math.sin(a):2===e?-Math.cos(a):Math.sin(a),o=r/S(n)*Math.pow(t-a,n)}else if("exp"===e)o=Math.exp(a)/S(n)*Math.pow(t-a,n);else if("ln"===e)if(0===n)o=Math.log(a);else{o=Math.pow(-1,n-1)*S(n-1)/Math.pow(a,n)/S(n)*Math.pow(t-a,n)}else{o=y(s,a,n)/S(n)*Math.pow(t-a,n)}else{o=y(s,a,n)/S(n)*Math.pow(t-a,n)}!isNaN(o)&&isFinite(o)&&(r+=o)}return r}catch(i){return g(s,t)}}),[y,g,b]),w=a.useCallback(k((()=>{const a=[],n=b(e),r=10/x,s=2*r/Math.min(50,Math.max(20,Math.floor(100/x)));for(let i=t-r;i<=t+r;i+=s)if(!("ln"===e&&i<=0))try{const r=g(n,i),s=N(e,i,t,h);!isNaN(r)&&isFinite(r)&&!isNaN(s)&&isFinite(s)&&a.push({x:parseFloat(i.toFixed(2)),original:r,taylor:s})}catch(o){}j(a)}),150),[e,t,h,x,g,N,b]);a.useEffect((()=>{w()}),[e,t,h,x,w]);const _=a.useCallback((()=>{f((e=>Math.min(2*e,16)))}),[]),E=a.useCallback((()=>{f((e=>Math.max(.5*e,.25)))}),[]),C="sin"===e||"cos"===e;return v.jsxs("div",{className:"taylor-graph",children:[v.jsx(n,{width:"100%",height:"100%",children:v.jsxs(r,{data:p,margin:{top:10,right:20,left:10,bottom:10},children:[v.jsx(s,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),v.jsx(o,{dataKey:"x",domain:["dataMin","dataMax"],type:"number",tickFormatter:e=>e.toFixed(1),tick:{fontSize:12}}),C?v.jsx(i,{domain:[-1.5,1.5],tick:{fontSize:12},allowDataOverflow:!0}):v.jsx(i,{domain:["auto","auto"],tick:{fontSize:12}}),v.jsx(l,{formatter:e=>e.toFixed(4),labelFormatter:e=>`x = ${e}`}),v.jsx(c,{type:"monotone",dataKey:"original",stroke:"#0071e3",strokeWidth:2,dot:!1,name:"Original Function",isAnimationActive:!0,animationDuration:500,animationEasing:"ease-in-out"}),v.jsx(c,{type:"monotone",dataKey:"taylor",stroke:"#34c759",strokeWidth:2,dot:!1,name:"Taylor Polynomial",isAnimationActive:!0,animationDuration:500,animationEasing:"ease-in-out"})]})}),v.jsxs("div",{className:"graph-controls",children:[v.jsx("button",{className:"zoom-button zoom-in",onClick:_,children:"+"}),v.jsx("button",{className:"zoom-button zoom-out",onClick:E,children:"âˆ’"})]})]})},_=a.lazy((()=>function(e,t){let a=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),r=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));a=e(t.map((e=>{if((e=function(e){return"/"+e}(e))in b)return;b[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,r&&n.setAttribute("nonce",r),document.head.appendChild(n),t?new Promise(((t,a)=>{n.addEventListener("load",t),n.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then((t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)}))}((()=>import("./LazyKatex-E-dpOgLA.js")),__vite__mapDeps([0,1,2,3,4,5]))));function E(){const[e,t]=a.useState("sin"),[n,r]=a.useState(0),[s,o]=a.useState(3),[i,l]=a.useState(""),c=a.useCallback(k((e=>r(e)),100),[]),u=a.useCallback(k((e=>o(e)),100),[]);a.useEffect((()=>{(()=>{let t="";const a=(e=>{switch(e){case"sin":default:return"\\sin(x)";case"cos":return"\\cos(x)";case"exp":return"e^x";case"ln":return"\\ln(x)"}})(e);"exp"===e?(t+="e^{a}",s>=2&&(t+=" + e^{a}(x-a)"),s>=3&&(t+=" + \\frac{e^{a}(x-a)^2}{2!}"),s>3&&(t+=` + ... + \\frac{e^{a}(x-a)^{${s-1}}}{${s-1}!}`)):"ln"===e?(t+="\\ln(a)",s>=2&&(t+=" + \\frac{1}{a}(x-a)"),s>=3&&(t+=" - \\frac{1}{2a^2}(x-a)^2"),s>3&&(t+=` + ... + \\frac{(-1)^{${s-2}}(${s-2})!}{${s-1}! \\cdot a^{${s-1}}}(x-a)^{${s-1}}`)):(t+=`${a.replace("x","a")}`,s>=2&&(t+=` + ${a.replace("x","a")}'(x-a)`),s>=3&&(t+=` + \\frac{${a.replace("x","a")}''(x-a)^2}{2!}`),s>3&&(t+=` + ... + \\frac{${a.replace("x","a")}^{(n)}(x-a)^n}{n!}`)),l(t)})()}),[e,s]);const[d,m]=a.useState(n),[h,x]=a.useState(s),f=()=>v.jsx("div",{className:"formula-loading",children:"Loading formulas..."});return v.jsxs("div",{className:"app-container",children:[v.jsx("header",{className:"app-header",children:v.jsx("h1",{children:"Taylor Series Visualizer"})}),v.jsxs("main",{className:"main-content",children:[v.jsx("section",{className:"left-panel",children:v.jsxs("div",{className:"panel-content",children:[v.jsx("h2",{children:"Taylor Series"}),v.jsxs("div",{className:"formula-container",children:[v.jsx("h3",{children:"General Formula"}),v.jsx("div",{className:"formula",children:v.jsx(a.Suspense,{fallback:v.jsx(f,{}),children:v.jsx(_,{formula:"f(x) \\approx P_n(x) = \\sum_{k=0}^{n} \\frac{f^{(k)}(a)}{k!} (x-a)^k"})})}),v.jsx("h3",{children:"Specific Polynomial"}),v.jsx("div",{className:"formula specific-formula",children:v.jsx(a.Suspense,{fallback:v.jsx(f,{}),children:v.jsx(_,{formula:`P_{${s}}(x) = ${i}`})})})]}),v.jsxs("div",{className:"controls-container",children:[v.jsx("h3",{children:"Settings"}),v.jsxs("div",{className:"control-group",children:[v.jsx("label",{children:"Function"}),v.jsxs("select",{className:"function-select",value:e,onChange:e=>t(e.target.value),children:[v.jsx("option",{value:"sin",children:"sin(x)"}),v.jsx("option",{value:"cos",children:"cos(x)"}),v.jsx("option",{value:"exp",children:"e^x"}),v.jsx("option",{value:"ln",children:"ln(x)"})]})]}),v.jsxs("div",{className:"control-group",children:[v.jsx("label",{children:"Center point (a)"}),v.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",value:d,onChange:e=>{const t=parseFloat(e.target.value);m(t),c(t)}}),v.jsx("span",{className:"value-display",children:d.toFixed(1)})]}),v.jsxs("div",{className:"control-group",children:[v.jsx("label",{children:"Number of terms (n)"}),v.jsx("input",{type:"range",min:"1",max:"20",step:"1",value:h,onChange:e=>{const t=parseInt(e.target.value);x(t),u(t)}}),v.jsx("span",{className:"value-display",children:h})]}),v.jsx("div",{className:"attribution",children:"Made by Andy with AI and love(They are pronounced the same in Chinese)."})]})]})}),v.jsx("section",{className:"right-panel",children:v.jsx("div",{className:"graph-container",children:v.jsx(w,{selectedFunction:e,centerPoint:n,numTerms:s})})})]})]})}g.createRoot(document.getElementById("root")).render(v.jsx(a.StrictMode,{children:v.jsx(E,{})}));export{v as j};
